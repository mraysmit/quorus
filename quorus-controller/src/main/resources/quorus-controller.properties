# =============================================================================
# Quorus Controller Configuration
# =============================================================================
# All settings can be overridden by environment variables using uppercase
# with dots replaced by underscores (e.g., quorus.http.port -> QUORUS_HTTP_PORT)
# =============================================================================

# -----------------------------------------------------------------------------
# Application Info
# -----------------------------------------------------------------------------
quorus.version=2.0-ext

# -----------------------------------------------------------------------------
# Node Identity
# -----------------------------------------------------------------------------
# Unique node identifier for Raft cluster. If empty, derives from hostname.
# MUST be unique per node in a cluster.
quorus.node.id=

# -----------------------------------------------------------------------------
# HTTP Server Configuration
# -----------------------------------------------------------------------------
quorus.http.port=8080
quorus.http.host=0.0.0.0

# -----------------------------------------------------------------------------
# Raft Cluster Configuration
# -----------------------------------------------------------------------------
# Port for inter-node Raft gRPC communication
quorus.raft.port=9080

# Cluster nodes in format: nodeId=host:port,nodeId2=host2:port2
# Leave empty for single-node mode (will auto-configure)
quorus.cluster.nodes=

# -----------------------------------------------------------------------------
# Raft Storage Configuration
# -----------------------------------------------------------------------------
# Storage backend type: "raftlog" (default), "file", "rocksdb", or "memory" (testing only)
# - raftlog: Production WAL from raftlog-core library (recommended)
# - file: Quorus-internal WAL implementation  
# - rocksdb: High-performance key-value store (requires rocksdbjni)
# - memory: In-memory storage for testing (NOT durable)
quorus.raft.storage.type=raftlog

# Path for Raft persistent storage (WAL and metadata)
# Default: ./data/raft/{nodeId}
# Production recommendation: /var/lib/quorus/data/{nodeId}
quorus.raft.storage.path=

# Enable fsync after each WAL write for durability (default: true)
# Set to false only for testing or if using battery-backed RAID controllers
quorus.raft.storage.fsync=true

# -----------------------------------------------------------------------------
# Telemetry Configuration
# -----------------------------------------------------------------------------
# OpenTelemetry OTLP exporter endpoint (gRPC)
quorus.telemetry.otlp.endpoint=http://localhost:4317

# Prometheus metrics HTTP server port
quorus.telemetry.prometheus.port=9464

# Enable/disable telemetry
quorus.telemetry.enabled=true

# Service name for tracing
quorus.telemetry.service.name=quorus-controller

# -----------------------------------------------------------------------------
# Job Assignment Service Configuration
# -----------------------------------------------------------------------------
# Initial delay before starting assignment processor (ms)
quorus.jobs.assignment.initial-delay-ms=5000

# Interval between assignment processing runs (ms)
quorus.jobs.assignment.interval-ms=10000

# Initial delay before starting timeout monitor (ms)
quorus.jobs.timeout.initial-delay-ms=30000

# Interval between timeout checks (ms)
quorus.jobs.timeout.interval-ms=30000

# -----------------------------------------------------------------------------
# Thread Pool Configuration
# -----------------------------------------------------------------------------
# Max threads for Raft gRPC I/O operations (default: 10)
# Replaces unbounded CachedThreadPool for resource control
quorus.raft.io.pool-size=10


